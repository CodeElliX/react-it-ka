{"version":3,"file":"static/js/286.693656b7.chunk.js","mappings":"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","sources":["webpack://react-1/./src/common-components/Paginator/Paginator.module.css?03c8","common-components/Paginator/Paginator.jsx","webpack://react-1/./src/components/Users/users.module.css?9211","components/Users/User.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","hoc/withAuthRedirect.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"selectedPage\":\"Paginator_selectedPage__QtjVt\",\"noSelectedPage\":\"Paginator_noSelectedPage__eto6H\",\"paginations\":\"Paginator_paginations__pWB7A\"};","import { useState } from \"react\";\r\nimport style from \"./Paginator.module.css\";\r\n\r\nexport const Paginator = ({\r\n  totalItemsCount,\r\n  pagesSize,\r\n  currentPage,\r\n  onPageChanged,\r\n  portionSize = 10\r\n}) => {\r\n\r\n  let pagesCount = Math.ceil(totalItemsCount / pagesSize);\r\n  let pages = [];\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i);\r\n  }\r\n\r\n  let portionCount = Math.ceil(pagesCount / portionSize);\r\n  let [portionNumber, setPortionNumber] = useState(1);\r\n  let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n  let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n  return (\r\n    <div>\r\n      {portionNumber > 1 && \r\n      <button onClick={() => {setPortionNumber(portionNumber -1)}}>PREV </button>}\r\n      {pages\r\n        .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n        .map((p) => {\r\n          return (\r\n            <span\r\n              onClick={(e) => { onPageChanged(p); }}\r\n              className={currentPage === p ? style.selectedPage : style.noSelectedPage}\r\n              key={p}\r\n            >\r\n              {p}\r\n            </span>\r\n          );\r\n        })\r\n      }\r\n {portionCount > portionNumber &&\r\n        <button onClick={() => { setPortionNumber(portionNumber + 1); }}>\r\n          Next\r\n        </button>\r\n      }\r\n    </div>\r\n  );\r\n};\r\n","// extracted by mini-css-extract-plugin\nexport default {\"main\":\"users_main__ewOOy\",\"ava\":\"users_ava__jI-s6\",\"photo\":\"users_photo__UA7t4\",\"info\":\"users_info__HG-hv\",\"info_child\":\"users_info_child__UvTIe\",\"status\":\"users_status__VYaAR\",\"btn\":\"users_btn__U-Gb9\",\"location\":\"users_location__Y5U+v\"};","import React from \"react\";\r\nimport style from \"./users.module.css\";\r\nimport usera from \"../../assets/images/user.png\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\n\r\nexport const User = React.memo(({user, followingInProgress, unfollow, follow}) => {\r\n\r\n\r\n  return (\r\n  \r\n  <div>\r\n    <div className={style.main}>\r\n      <div className={style.ava}>\r\n        <div>\r\n          <NavLink to={\"/profile/\" + user.id}>\r\n            <img src={user.photos.small != null ? user.photos.small : usera} alt=\"Bruss\" className={style.photo}/>\r\n          </NavLink>\r\n        </div>\r\n          <div>\r\n\r\n            {user.followed \r\n            ? <button disabled={followingInProgress.some(id => id === user.id)} \r\n              className={style.btn} \r\n              //дизейблим кнопку\r\n              onClick={() => {unfollow(user.id)}}>Unfollow</button> \r\n\r\n            : <button disabled={followingInProgress.some(id => id === user.id)} \r\n               className={style.btn} \r\n               ///дизейблим кнопку\r\n               onClick={() => {follow(user.id);}}>Follow</button>} \r\n\r\n              </div>\r\n\r\n            </div>\r\n\r\n            <div className={style.info}>\r\n              <div className={style.info_child}>\r\n                <div className={style.name}>{user.name}</div>\r\n                <div className={style.status}>{user.status}</div>\r\n              </div>\r\n\r\n              <div className={style.location}>\r\n                <div>{\"u.location.country\"}</div>\r\n                <div>{\"u.location.city\"}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n  );\r\n})\r\n","import React from \"react\";\r\nimport { Paginator } from \"../../common-components/Paginator/Paginator\";\r\nimport { User } from \"./User\";\r\n\r\n\r\nexport const Users = React.memo(({currentPage, totalUsersCount, pagesSize, onPageChanged, users, ...props}) => {\r\n\r\n  return <div>\r\n\r\n       <Paginator currentPage={currentPage} onPageChanged={onPageChanged}\r\n       totalItemsCount={totalUsersCount} pagesSize={pagesSize}/>\r\n\r\n      <h1>Users</h1>\r\n\r\n      <div>\r\n        {\r\n        users.map(u => <User user={u}\r\n        followingInProgress={props.followingInProgress}\r\n        unfollow={props.unfollow}\r\n        follow={props.follow}\r\n          key={u.id}/>\r\n        )}\r\n      </div>\r\n\r\n      </div>\r\n})\r\n","import { createSelectorHook } from \"react-redux\";\r\n\r\nexport const getIsFetching = (state) => {\r\n  return state.usersPage.isFetching;\r\n};\r\n\r\nexport const getUser = (state) => {\r\n  return state.usersPage.users;\r\n};\r\n\r\n// export const getUsersSelector = (state) => {\r\n//     return getUser(state).filter(u => true)\r\n// }\r\n\r\n// export const getUsersSuperSelector = createSelectorHook(getUser, getIsFetching, (users, isFetching) => {\r\n//     return users.filter(u => true)\r\n// })\r\n\r\nexport const getPagesSize = (state) => {\r\n  return state.usersPage.pagesSize;\r\n};\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n  return state.usersPage.totalUsersCount;\r\n};\r\n\r\nexport const getCurrentPage = (state) => {\r\n  return state.usersPage.currentPage;\r\n};\r\n\r\n\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n  return state.usersPage.followingInProgress;\r\n};\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Users } from './Users.jsx';\r\nimport {\r\n  follow,\r\n  unfollow,\r\n  toggleFollowingProgress,\r\n  getUsers\r\n} from \"../../redux/Users-reducer\";\r\nimport { Preloader } from '../../common-components/Preloader/Preloader.jsx';\r\nimport { compose } from 'redux';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect.js';\r\nimport {getUser, getPagesSize, getTotalUsersCount, getCurrentPage, getIsFetching, getFollowingInProgress } from '../../redux/users-selectors.js'\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n  componentDidMount() {\r\n    let {currentPage, pageSize} = this.props;\r\n    this.props.getUsers(currentPage, pageSize);\r\n  }\r\n\r\n  onPageChanged = (pageNumber) => {\r\n    let pageSize = this.props;\r\n    this.props.getUsers(pageNumber, pageSize);\r\n  };\r\n\r\n\r\n  render() {\r\n    return <>\r\n    {this.props.isFetching ? <Preloader /> : null}\r\n      <Users\r\n        currentPage={this.props.currentPage} \r\n        users={this.props.users}\r\n        unfollow={this.props.unfollow}\r\n        follow={this.props.follow}\r\n        onPageChanged={this.onPageChanged}\r\n        totalUsersCount={this.props.totalUsersCount}\r\n        pagesSize={this.props.pagesSize}\r\n        followingInProgress={ this.props.followingInProgress}\r\n      />\r\n      \r\n     </>;\r\n  }\r\n}\r\n\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    users: getUser(state),\r\n    pagesSize: getPagesSize(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    followingInProgress: getFollowingInProgress(state)\r\n  };\r\n};\r\n\r\n// mapDispatchToProps служит для передачи колбеков презентационному компоненту <Users />, отправляет\r\n \r\nexport default compose(\r\n  connect(mapStateToProps, {toggleFollowingProgress, follow, unfollow, getUsers }),\r\n  // withAuthRedirect\r\n)(UsersContainer)\r\n","import { useNavigate } from \"react-router-dom\";\r\nimport { useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    auth: state.auth.isAuth\r\n}) \r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n  const RedirectComponent = (props) => {\r\n\r\n    //редирект на стр логина\r\n    let navigate = useNavigate();\r\n    useEffect(() => {\r\n      if (!props.auth) {\r\n        return navigate(\"../login\"); \r\n      }\r\n    }, [props.auth, navigate]);\r\n\r\n    return <Component {...props} />\r\n  };\r\n\r\n  let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n\r\n  return ConnectedAuthRedirectComponent;\r\n};\r\n"],"names":["Paginator","_ref","totalItemsCount","pagesSize","currentPage","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","portionNumber","setPortionNumber","useState","leftPortionPageNumber","rightPortionPageNumber","_jsxs","children","_jsx","onClick","filter","p","map","e","className","style","User","React","user","followingInProgress","unfollow","follow","main","ava","NavLink","to","id","src","photos","small","alt","photo","followed","disabled","some","btn","info","info_child","name","status","location","Users","totalUsersCount","users","props","u","getIsFetching","state","usersPage","isFetching","getUser","getPagesSize","getTotalUsersCount","getCurrentPage","getFollowingInProgress","UsersContainer","constructor","arguments","pageNumber","pageSize","this","getUsers","componentDidMount","render","_Fragment","Preloader","compose","connect","toggleFollowingProgress","mapStateToPropsForRedirect","auth","isAuth","withAuthRedirect","Component","navigate","useNavigate","useEffect"],"sourceRoot":""}